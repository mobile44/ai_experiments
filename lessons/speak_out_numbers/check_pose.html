<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet"></script>
        <style>
        </style>
    </head>
    <body>
        <img id='sample' src='./images/sample.jpg '/>
    </body>
    <script>
        function startup() {
            var imageElement = document.getElementById('sample');
            posenet.load().then(function(net){
                return net.estimateMultiplePoses(imageElement, {
                flipHorizontal: false,
                maxDetections: 1,
                scoreThreshold: 0.6,
                nmsRadius: 20})
            }).then(function(poses){
                /*console.log(poses);
                console.log("Array Length: ",poses.length);*/
                for (i=0; i<(poses.length; i++) {
                     console.log("Keypoints: ", poses[i].keypoints);
                }
            })
        }
        function drawSquare(x,y,w,h) {
            var c=document.getElementById("canvas");
            var ctx=c.getContext("2d");
            var img=document.getElementById("photo");  
            ctx.drawImage(img,10,10);  
            var canvas = document.getElementById('canvas');
            var context = canvas.getContext('2d');
            context.beginPath();
            context.rect(x, y, w, h);
            context.lineWidth = 1;
            context.strokeStyle = 'red';
            context.stroke();
            data = canvas.toDataURL('image/png');
            photo.setAttribute('src', data);
        }
        window.addEventListener('load', startup, false);
    </script>
</html>
